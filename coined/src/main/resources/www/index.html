<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
<link type="text/css"
	href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/themes/smoothness/jquery-ui.css"
	rel="stylesheet" />
<script
	src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js'
	type='text/javascript'></script>
<script
	src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js'
	type='text/javascript'></script>
<title>Cloud Facade - VPH-Share</title>

<script>
	var init = function() {
		$('#tabs').tabs();
		$('#workflow-accordion').accordion({
			autoHeight : false
		});
		$('#as-accordion').accordion({
			autoHeight : false
		});
		$('#securitypolicy-accordion').accordion({
			autoHeight : false
		});
		$('#securityproxy-accordion').accordion({
			autoHeight : false
		});
		$('#key-accordion').accordion({
			autoHeight : false
		});
	};
	$(init);
</script>

<style type="text/css">
* {
	margin: 0;
}

html,body {
	height: 100%;
	font: 80.5% "Trebuchet MS", sans-serif;
}

.wrapper {
	height: auto !important;
	height: 100%;
	min-height: 100%; height : auto !important; height : 100%;
	margin: 0 auto -20px;
	/* the bottom margin is the negative value of the footer's height */
}

.proper-content {
	padding: 50px;
}

.footer,.push {
	height: 20px; /* .push must be the same height as .footer */
	text-align: center;
}

.method {
	width: 100px;
}

#workflow-accordion {
	width: 97%;
}

#as-accordion {
	width: 97%;
}

#securitypolicy-accordion {
	width: 97%;
}

#securityproxy-accordion {
	width: 97%;
}

#grant-accordion {
	width: 97%;
}

#key-accordion {
	width: 97%;
}

#tabs {
	height: 90%;
}

.deprecation-warning {
	font: 120% "Trebuchet MS", sans-serif;
	text-align: center;
	padding: 8px; 
	margin-top: 16px;
}
</style>

</head>

<body>

	<div class="wrapper">
		<div class="proper-content">			
			<div class="ui-state-error ui-corner-all"
				style="padding: 8px; margin-bottom: 6px">
				<strong>Note!</strong> The operations listed below are secured with
				<i>VPH-Share token-based</i> authentication mechanism.
			</div>

			<div class="content">
				<div id="tabs">
					<ul>
						<li><a href="#workflow-accordion">Workflows</a></li>
						<li><a href="#as-accordion">Atomic Services</a></li>
						<li><a href="#securitypolicy-accordion">Security Policies</a></li>
						<li><a href="#securityproxy-accordion">Security Proxies</a></li>
						<li><a href="#key-accordion">Public Keys</a></li>
					</ul>
					<div id="workflow-accordion">
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/workflows</strong>
								- gets the JSON structure of user workflows</a>
						</h3>
						<div>
							<p>The structure of the returned JSON includes:</p>
							<ul>
								<li><strong>username</strong> - user name</li>
								<li><strong>workflows</strong> - list of user workflows:
									<ul>
										<li>(required) <strong>id</strong> - workflow id
										</li>
										<li>(required) <strong>name</strong> - workflow name
										</li>
										<li>(required) <strong>type</strong> - workflow type
											(possible values <i>workflow</i>, <i>development</i>, <i>portal</i>)
										</li>
									</ul></li>
							</ul>
						</div>
						<h3>
							<a href="#"><strong class="method">POST</strong> <strong>/workflows</strong>
								- starts new workflow for the user</a>
						</h3>
						<div>
							<p>The structure of the JSON request includes:</p>
							<ul>
								<li>(required) <strong>name</strong> - workflow name
								</li>
								<li>(optional) <strong>description</strong> - workflow
									description
								</li>
								<li>(optional) <strong>priority</strong> - workflow
									priority
								</li>
								<li>(optional) <strong>type</strong> - workflow type
									(possible values <i>workflow</i>, <i>development</i>, <i>portal</i>)
								</li>
								<li>(optional) <strong>asConfigIds</strong> - list of
									required workflow atomic services configurations
								</li>
							</ul>
							<p>
								The operation returns the <strong>200</strong> status code and
								the <strong>id</strong> of the created workflow instance on
								success. The <strong>400</strong> status code and problem
								explanation is given when the operation failed.
							</p>
						</div>						
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/workflows/{workflowId}</strong>
								- gets the JSON structure workflow identified by workflowId</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> - workflow id
									(acquired when starting the workflow)
								</li>
							</ul>
							<p>The structure of the returned JSON includes:</p>
							<ul>
								<li><strong>name</strong> - workflow name</li>
								<li><strong>type</strong> - workflow type (possible values
									<i>workflow</i>, <i>development</i>, <i>portal</i>)</li>
								<li><strong>atomicServiceInstances</strong> - list of
									atomic service instances created in the scope of this workflow:
									<ul>
										<li><strong>id</strong> - atomic service instance id</li>
										<li><strong>name</strong> - atomic service instance name</li>
										<li><strong>status</strong> - atomic service instance
											status (<i>running</i>, <i>paused</i>, <i>booting</i>, <i>stopping</i>
											or <i>stopped</i>)</li>
										<li><strong>message</strong> - diagnostic message ()</li>
										<li><strong>atomicServiceId</strong> - id of the atomic
											service used to create this instance</li>
										<li><strong>atomicServiceName</strong> - name of the
											atomic service used to create this instance</li>
										<li><strong>configurationId</strong> - id of the initial
											configuration used to start this atomic service instance</li>
										<li><strong>siteId</strong> - site id where atomic
											service instance is running</li>
										<li><strong>credential</strong> - credential allowing to
											login into atomic service instance (not empty only in <i>development</i>
											workflow)</li>
										<li><strong>ips</strong> - list of Atomic Service
											Instance IPs (can be private)</li>
										<li><strong>redirections</strong> - list of redirections
											created for this atomic service instance:
											<ul>
												<li><strong>name</strong> - redirection name</li>
												<li><strong>http</strong> - if <i>true</i> than http
													traffic is redirected, TCP/UDP otherwise</li>
												<li><strong>host</strong> - public entry point host for
													the redirection. Full redirection is <i>host:fromPort</i></li>
												<li><strong>fromPort</strong> - public entry point port
													for the redirection. Full redirection is <i>host:fromPort</i></li>
												<li><strong>toPort</strong> - port where traffic from
													public entry point will be forwarded in atomic service
													instance</li>
											</ul></li>
									</ul></li>
							</ul>
							
							<div class="ui-state-error ui-corner-all deprecation-warning">
								<strong>redirections</strong> will be removed in the next Cloud Facade (1.7.0) release! 
								Use <strong>GET /workflow/{workflowId}/atomic_services/{initConfId}/redirections</strong> instead.
							</div>
						</div>
						<h3>
							<a href="#"><strong class="method">DELETE</strong> <strong>/workflows/{workflowId}</strong>
								- stops workflow</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> - workflow id
									(acquired when starting the workflow)
								</li>
							</ul>
							<p>
								The operation returns the <strong>200</strong> status code on
								success, <strong>403</strong> when stopping workflow with ASI used to create new AS 
								and the <strong>400</strong> status code and problem
								explanation when failed.
							</p>
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/workflows/{workflowId}/atomic_services/{initConfId}</strong>
								- gets the JSON structure workflow atomic service instance
								identified by workflowId and initConfId</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> - workflow id
									(acquired when starting the workflow)
								</li>
								<li>(required) <strong>initConfId</strong> - atomic service
									initial configuration id
								</li>
							</ul>
							<p>The structure of the returned JSON includes:</p>
							<ul>
								<li><strong>id</strong> - atomic service instance id</li>
								<li><strong>name</strong> - atomic service instance name</li>
								<li><strong>status</strong> - atomic service instance
									status (<i>running</i>, <i>paused</i>, <i>booting</i>, <i>stopping</i>
									or <i>stopped</i>)</li>
								<li><strong>message</strong> - diagnostic message ()</li>
								<li><strong>atomicServiceId</strong> - id of the atomic
									service used to create this instance</li>
								<li><strong>atomicServiceName</strong> - name of the atomic
									service used to create this instance</li>
								<li><strong>configurationId</strong> - id of the initial
									configuration used to start this atomic service instance</li>
								<li><strong>siteId</strong> - site id where atomic service
									instance is running</li>
								<li><strong>credential</strong> - credential allowing to
									login into atomic service instance (not empty only in <i>development</i>
									workflow)</li>
								<li><strong>ips</strong> - list of Atomic Service Instance
									IPs (can be private)</li>
								<li><strong>redirections</strong> - list of redirections
									created for this atomic service instance:
									<ul>
										<li><strong>name</strong> - redirection name</li>
										<li><strong>http</strong> - if <i>true</i> than http
											traffic is redirected, TCP/UDP otherwise</li>
										<li><strong>host</strong> - public entry point host for
											the redirection. Full redirection is <i>host:fromPort</i></li>
										<li><strong>fromPort</strong> - public entry point port
											for the redirection. Full redirection is <i>host:fromPort</i></li>
										<li><strong>toPort</strong> - port where traffic from
											public entry point will be forwarded in atomic service
											instance</li>
									</ul></li>
							</ul>
							
							<div class="ui-state-error ui-corner-all deprecation-warning">
								<strong>redirections</strong> will be removed in the next Cloud Facade (1.7.0) release! 
								Use <strong>GET /workflow/{workflowId}/atomic_services/{initConfId}/redirections</strong> instead.
							</div>
						</div>						
						<h3>
							<a href="#"><strong class="method">POST</strong> <strong>/workflows/{workflowId}/atomic_services</strong>
								- adds atomic service to workflow</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> workflow id
								</li>
							</ul>

							<p>The structure of the JSON request includes:</p>
							<ul>
								<li>(required) <strong>asConfigId</strong> - atomic service
									configuration id
								</li>
								<li>(optional) <strong>name</strong> - Atomic Service
									Instance name (max 64 chars)
								</li>
								<li>(optional) <strong>cpu</strong> - cpu required by
									atomic service. This property is taken into account only in
									development workflow mode.
								</li>
								<li>(optional) <strong>disk</strong> - disk required by
									atomic service (in MB). This property is taken into account
									only in development workflow mode.
								</li>
								<li>(optional) <strong>memory</strong> - memory required by
									atomic service (in MB). This property is taken into account
									only in development workflow mode.
								</li>
								<li>(optional) <strong>keyId</strong> - key ID which should
									be injected while starting ASI. Key will be injected only when
									workflow is in development mode.
								</li>
							</ul>

							<p>
								The operation returns the <strong>200</strong> status code on
								success and the <strong>400</strong> status code and problem
								explanation when failed.
							</p>
						</div>
						<h3>
							<a href="#"><strong class="method">DELETE</strong> <strong>/workflow/{workflowId}/atomic_services/{initConfId}</strong>
								- remove atomic service from workflow</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> workflow id
								</li>
								<li>(required) <strong>initConfId</strong> - atomic service
									initial configuration</li>
							</ul>

							<p>
								The operation returns the <strong>200</strong> status code on
								success, <strong>403</strong> when removing ASI used to create new AS 
								and the <strong>400</strong> status code and problem
								explanation when failed.
							</p>
						</div>
						<h3>
							<a href="#"><strong class="method">POST</strong> <strong>/workflow/{workflowId}/atomic_services/{initConfId}/restart</strong>
								- restart Atomic Service instance (available only in development mode)</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> workflow id
								</li>
								<li>(required) <strong>initConfId</strong> - atomic service
									initial configuration</li>
							</ul>
							
							<p>
								The operation returns the <strong>204</strong> status code on
								success, <strong>404</strong> when Atomic Service instance does 
								not exist and the <strong>403</strong> status code
								when restart were tried to perform on production workflow.
							</p>
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/workflow/{workflowId}/atomic_services/{initConfId}/redirections</strong>
								- gets information about Atomic Service instance redirections</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> workflow id
								</li>
								<li>(required) <strong>initConfId</strong> - atomic service
									initial configuration</li>
							</ul>

							<p>The structure of the returned JSON includes:</p>
							<ul>
							    <li><strong>http</strong> - http redirections collection with elements in following format:
								    <ul>								
										<li><strong>id</strong> - redirection id</li>
										<li><strong>name</strong> - redirection name</li>
										<li><strong>toPort</strong> - internal atomic service port
											this redirection is pointing to</li>									
										<li><strong>urls</strong> - list of redirection urls</li>
									</ul>
								</li>
								<li><strong>nat</strong> - nat redirections collection with elements in following format:
								    <ul>								
										<li><strong>id</strong> - redirection id</li>
										<li><strong>name</strong> - redirection name</li>
										<li><strong>toPort</strong> - internal atomic service port
											this redirection is pointing to</li>	
										<li><strong>fromPort</strong> - public redirection port</li>	
										<li><strong>host</strong> - public redirection host</li>
										<li><strong>direct</strong> - true if public VM ip is in host variable</li>									
									</ul>
								</li>
							</ul>
							<p>
								The operation returns the <strong>200</strong> status code on
								success, <strong>404</strong> when Atomic Service instance does 
								not exist and the <strong>400</strong> status code
								and problem explanation when failed.
							</p>
						</div>
						<h3>
							<a href="#"><strong class="method">POST</strong> <strong>/workflow/{workflowId}/atomic_services/{initConfId}/redirections</strong>
								- reates new Atomic Service instance redirection</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> workflow id
								</li>
								<li>(required) <strong>initConfId</strong> - atomic service
									initial configuration
								</li>
							</ul>

							<p>The structure of the JSON request includes:</p>
							<ul>
								<li>(required) <strong>name</strong> - redirection name (only letters, numbers, _ and - are allowed)
								</li>
								<li>(required) <strong>toPort</strong> - redirection target port
								</li>
								<li>(required) <strong>type</strong> - redirection type (TCP, UDP, HTTP, HTTPS, HTTP_AND_HTTPS)
								</li>
							</ul>

							<p>
								The operation returns the <strong>200</strong> status code on
								success, <strong>404</strong> when Atomic Service instance or
								endpoint does not exist and the <strong>400</strong> status code
								and problem explanation when failed.
							</p>
						</div>
						<h3>
							<a href="#"><strong class="method">DELETE</strong> <strong>/workflow/{workflowId}/atomic_services/{initConfId}/redirections/{redirectionId}</strong>
								- deletes Atomic Service instance redirection</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> workflow id
								</li>
								<li>(required) <strong>initConfId</strong> - atomic service
									initial configuration
								</li>
								<li>(required) <strong>redirectionId</strong> atomic
									service instance endpoint id
								</li>
							</ul>

							<p>
								The operation returns the <strong>200</strong> status code on
								success, <strong>404</strong> when Atomic Service instance or
								redirection does not exist and the <strong>400</strong> status
								code and problem explanation when failed.
							</p>
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/workflow/{workflowId}/atomic_services/{initConfId}/endpoints</strong>
								- gets information about Atomic Service instance endpoints</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> workflow id
								</li>
								<li>(required) <strong>initConfId</strong> - atomic service
									initial configuration
								</li>
							</ul>

							<p>The structure of the returned JSON includes:</p>
							<ul>
								<li><strong>id</strong> - endpoint id</li>
								<li><strong>description</strong> - endpoint description</li>
								<li><strong>descriptor</strong> - endpoint descriptor
									payload</li>
								<li><strong>invocationPath</strong> - endpoint invocation
									path</li>
								<li><strong>port</strong> - endpoint port</li>
								<li><strong>type</strong> - endpoint type (<i>REST</i>, <i>WS</i>
									or <i>WEBAPP</i>)</li>
								<li><strong>urls</strong> - list of direct URL to the endpoint</li>
							</ul>

							<p>
								The operation returns the <strong>200</strong> status code on
								success, <strong>404</strong> when Atomic Service instance or
								endpoint does not exist and the <strong>400</strong> status code
								and problem explanation when failed.
							</p>
						</div>
						<h3>
							<a href="#"><strong class="method">POST</strong> <strong>/workflow/{workflowId}/atomic_services/{initConfId}/endpoints</strong>
								- reates new Atomic Service instance endpoint</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> workflow id
								</li>
								<li>(required) <strong>initConfId</strong> - atomic service
									initial configuration
								</li>
							</ul>

							<p>The structure of the JSON request includes:</p>
							<ul>
								<li><strong>description</strong> - endpoint description</li>
								<li><strong>descriptor</strong> - endpoint descriptor
									payload</li>
								<li><strong>invocationPath</strong> - endpoint invocation
									path</li>
								<li><strong>port</strong> - endpoint port</li>
								<li><strong>type</strong> - endpoint type (<i>REST</i>, <i>WS</i>
									or <i>WEBAPP</i>)</li>
							</ul>

							<p>
								The operation returns the <strong>200</strong> status code on
								success, <strong>404</strong> when Atomic Service instance or
								endpoint does not exist and the <strong>400</strong> status code
								and problem explanation when failed.
							</p>
						</div>
						<h3>
							<a href="#"><strong class="method">DELETE</strong> <strong>/workflow/{workflowId}/atomic_services/{initConfId}/endpoints/{endpointId}</strong>
								- deletes Atomic Service instance endpoint</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>workflowId</strong> workflow id
								</li>
								<li>(required) <strong>initConfId</strong> - atomic service
									initial configuration
								</li>
								<li>(required) <strong>endpointId</strong> atomic service
									instance endpoint id
								</li>
							</ul>

							<p>
								The operation returns the <strong>200</strong> status code on
								success, <strong>404</strong> when Atomic Service instance or
								endpoint does not exist and the <strong>400</strong> status code
								and problem explanation when failed.
							</p>
						</div>
					</div>
					<div id="as-accordion">
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/atomic_services</strong>
								- gets the JSON structure of all registered atomic services</a>
						</h3>
						<div>
							<p>The structure of the returned JSON includes array of:</p>
							<ul>
								<li><strong>atomicServiceId</strong> - atomic service id</li>
								<li><strong>name</strong> - atomic service name</li>
								<li><strong>description</strong> - atomic service
									description</li>
								<li><strong>shared</strong> - true if atomic service can be
									shared among workflows</li>
								<li><strong>scalable</strong> - true if atomic service can
									be multiplicated among workflow</li>
								<li><strong>publisher</strong> - true if atomic service is
									published for the end users</li>
								<li><strong>cpu</strong> - cpu required by atomic service</li>
								<li><strong>disk</strong> - disk required by atomic service
									(in MB)</li>
								<li><strong>memory</strong> - memory required by atomic
									service (in MB)</li>
								<li><strong>endpoints</strong> - registered atomic service
									endpoints:
									<ul>
										<li><strong>description</strong> - endpoint description</li>
										<li><strong>descriptor</strong> - endpoint descriptor
											(e.g. WSDL)</li>
										<li><strong>invocationPath</strong> - endpoint invocation
											path</li>
										<li><strong>port</strong> - endpoint port</li>
										<li><strong>serviceName</strong> - service name</li>
										<li><strong>type</strong> - endpoint type (WS, REST,
											WebApp)</li>
									</ul></li>
							</ul>
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/atomic_services/{atomicServiceId}</strong>
								- gets atomic service JSON structure</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>atomicServiceId</strong> - atomic service id</li>
								<li>(query param) <strong>descriptor</strong> - If true than descriptors will be loaded (default false)</li>
							</ul>
						
							<p>The structure of the returned JSON includes array of:</p>
							<ul>
								<li><strong>atomicServiceId</strong> - atomic service id</li>
								<li><strong>name</strong> - atomic service name</li>
								<li><strong>description</strong> - atomic service
									description</li>
								<li><strong>shared</strong> - true if atomic service can be
									shared among workflows</li>
								<li><strong>scalable</strong> - true if atomic service can
									be multiplicated among workflow</li>
								<li><strong>publisher</strong> - true if atomic service is
									published for the end users</li>
								<li><strong>cpu</strong> - cpu required by atomic service</li>
								<li><strong>disk</strong> - disk required by atomic service
									(in MB)</li>
								<li><strong>memory</strong> - memory required by atomic
									service (in MB)</li>
								<li><strong>endpoints</strong> - registered atomic service
									endpoints:
									<ul>
										<li><strong>description</strong> - endpoint description</li>
										<li><strong>descriptor</strong> - endpoint descriptor
											(e.g. WSDL)</li>
										<li><strong>invocationPath</strong> - endpoint invocation
											path</li>
										<li><strong>port</strong> - endpoint port</li>
										<li><strong>serviceName</strong> - service name</li>
										<li><strong>type</strong> - endpoint type (WS, REST,
											WebApp)</li>
									</ul></li>
							</ul>
						</div>
						<h3>
							<a href="#"><strong class="method">POST</strong> <strong>/atomic_services</strong>
								- create new atomic service</a>
						</h3>
						<div>
							<div class="ui-state-error ui-corner-all"
								style="padding: 8px; margin-bottom: 6px">
								<strong>Note!</strong> <i>developer</i> role is required to
								perform this action.
							</div>

							<p>The structure of the JSON request includes:</p>
							<ul>
								<li>(required) <strong>sourceAsiId</strong> - New Atomic
									Service template will be created from this Atomic Service
									Instance
								</li>
								<li>(required, unique) <strong>name</strong> - atomic
									service name
								</li>
								<li><strong>description</strong> - atomic service
									description</li>
								<li><strong>proxyConfigurationName</strong> security proxy
									configuration name used in this atomic service</li>
								<li><strong>published</strong> - if true than atomic
									service will be presented to all users</li>
								<li><strong>share</strong> - if true than one atomic
									service can be shared among many users workflow</li>
								<li><strong>scalable</strong> - if true than Atmosphere can
									multiply number of machines running for a workflow</li>
								<li><strong>cpu</strong> - cpu required by atomic service</li>
								<li><strong>disk</strong> - disk required by atomic service
									(in MB)</li>
								<li><strong>memory</strong> - memory required by atomic
									service (in MB)</li>

							</ul>
							The operation returns the <strong>200</strong> status code on
							success, the <strong>404</strong> when source atomic service
							instance not found, the <strong>302</strong> status code when AS
							with given name already exists, <strong>400</strong> status code
							and problem explanation when failed, <strong>406</strong> when
							updated information are not correct (e.g. <i>proxyConfigurationName</i>
							does not exist).
						</div>
						<h3>
							<a href="#"><strong class="method">PUT</strong> <strong>/atomic_services/{atomicServiceId}</strong>
								- updates information about atomic service</a>
						</h3>
						<div>
							<div class="ui-state-error ui-corner-all"
								style="padding: 8px; margin-bottom: 6px">
								<strong>Note!</strong> Only Atomic Service owner and
								administrator is allowed to update information about atomic
								service.
							</div>

							<ul>
								<li><strong>atomicServiceId</strong> - atomic service id</li>
							</ul>

							<p>The structure of the JSON request includes:</p>
							<ul>
								<li><strong>name</strong> - atomic service name</li>
								<li><strong>description</strong> - atomic service
									description</li>
								<li><strong>proxyConfigurationName</strong> security proxy
									configuration name used in this atomic service</li>
								<li><strong>published</strong> - if true than atomic
									service will be presented to all users</li>
								<li><strong>share</strong> - if true than one atomic
									service can be shared among many users workflow</li>
								<li><strong>scalable</strong> - if true than Atmosphere can
									multiply number of machines running for a workflow</li>
								<li><strong>cpu</strong> - cpu required by atomic service</li>
								<li><strong>disk</strong> - disk required by atomic service
									(in MB)</li>
								<li><strong>memory</strong> - memory required by atomic
									service (in MB)</li>
							</ul>

							The operation returns the <strong>204</strong> status code on
							success and the <strong>404</strong> when atomic service is not
							found, <strong>403</strong> when user is not allowed to update
							this atomic service, <strong>406</strong> when updated
							information are not correct (e.g. <i>proxyConfigurationName</i>
							does not exist).
						</div>
						<h3>
							<a href="#"><strong class="method">DELETE</strong> <strong>/atomic_services/{atomicServiceId}</strong>
								- deletes atomic service</a>
						</h3>
						<div>

							<div class="ui-state-error ui-corner-all"
								style="padding: 8px; margin-bottom: 6px">
								<strong>Note!</strong> Only Atomic Service owner and
								administrator is allowed to delete it.
							</div>

							<ul>
								<li><strong>atomicServiceId</strong> - atomic service id</li>
							</ul>

							The operation returns the <strong>204</strong> status code on
							success and the <strong>404</strong> when atomic service is not
							found, <strong>403</strong> when user is not allowed to remove
							this atomic service, <strong>406</strong> when there are atomic
							service instances created from this atomic service.
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/atomic_services/{atomicServiceId}/configurations</strong>
								- gets atomic service configurations</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>atomicServiceId</strong> - Atomic
									service id
								</li>
								<li>(optional) <strong>load_payload</strong> - If true than
									configuration payload will be loaded (default <strong>false</strong>)
								</li>
							</ul>
							<p>The structure of the returned JSON includes:</p>
							<ul>
								<li><strong>id</strong> - configuration id</li>
								<li><strong>name</strong> - configuration name</li>
								<li><strong>payload</strong> - configuration payload (will
									be empty if <i>load_payload</i> is false)</li>
							</ul>
						</div>
						<h3>
							<a href="#"><strong class="method">POST</strong> <strong>/atomic_services/{atomicServiceId}/configurations</strong>
								- Add new atomic service configuration</a>
						</h3>
						<div>
							<ul>
								<li><strong>atomicServiceId</strong> - For this atomic
									service configuration will be added</li>
							</ul>
							<p>The structure of the JSON request includes:</p>
							<ul>
								<li>(required, unique) <strong>name</strong> -
									configuration name
								</li>
								<li>(required) <strong>payload</strong> - configuration
									payload
								</li>
							</ul>

							The operation returns the <strong>200</strong> status code on
							success and the <strong>400</strong> status code and problem
							explanation when failed.
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/atomic_services/services_set</strong>
								- Get atomic services set in the taverna format</a>
						</h3>
						<div>
							<div class="ui-state-highlight ui-corner-all"
								style="padding: 8px; margin-bottom: 6px">
								<strong>Note!</strong> This method is public, no ticket
								required.
							</div>

							<i>Currently only WS endpoints are returned</i>
							<pre>
&lt;serviceDescriptions xmlns="http://taverna.sf.net/2009/xml/servicedescription"&gt;
  &lt;providers&gt;
    &lt;provider&gt;
      &lt;providerId xmlns="http://taverna.sf.net/2008/xml/t2flow"&gt;http://taverna.sf.net/2010/service-provider/wsdl&lt;/providerId&gt;
      &lt;configBean xmlns="http://taverna.sf.net/2008/xml/t2flow" encoding="xstream"&gt;
        &lt;net.sf.taverna.t2.activities.wsdl.servicedescriptions.WSDLServiceProviderConfig xmlns=""&gt;
          &lt;uri serialization="custom"&gt;
            &lt;java.net.URI&gt;
              &lt;default&gt;
                &lt;string&gt;http://path/to/wsdl&lt;/string&gt;
              &lt;/default&gt;
            &lt;/java.net.URI&gt;
          &lt;/uri&gt;
        &lt;/net.sf.taverna.t2.activities.wsdl.servicedescriptions.WSDLServiceProviderConfig&gt;
      &lt;/configBean&gt;
    &lt;/provider&gt;
    ...
  &lt;/providers&gt;
&lt;/serviceDescriptions&gt;  
					</pre>
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/atomic_services/{atomicServiceId}/endpoints/{redirectionName}/{invocationPath}</strong>
								- Get endpoint descriptor</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>atomicServiceId</strong> - atomic
									service id
								</li>
								<li>(required) <strong>redirectionName</strong> -
									redirection name
								</li>
								<li>(required) <strong>invocationPath</strong> - encoded
									invocation path (/ should be changed into %2f)
								</li>
							</ul>

							The operation returns the <strong>200</strong> status code and
							descriptor value on success and the <strong>400</strong> status
							code and problem explanation when failed.
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/{descriptorPath}/get_path_info</strong>
								- gets detail information about invocation path</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>descriptorPath</strong> - descriptor
									endpoint (see previous tab for details)
								</li>
							</ul>

							<p>The structure of the returned JSON includes:</p>
							<ul>
								<li><strong>atomicServiceId</strong> - Endpoint Atomic
									service id</li>
								<li><strong>redirectionName</strong> - Redirection used for
									this endpoint</li>
							</ul>

							The operation returns the <strong>200</strong> status code and
							Atomic Service id on success and the <strong>400</strong> status
							code and problem explanation when failed.
						</div>
					</div>
					<div id="securitypolicy-accordion">
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/security_policies</strong>
								- lists stored security policies names</a>
						</h3>
						<div>
							<div class="ui-state-highlight ui-corner-all"
								style="padding: 8px; margin-bottom: 6px">
								<strong>Note!</strong> This method is public, no ticket
								required.
							</div>

							<p>The operation returns the 200 status code and the security
								policies names on success.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/security_policies/{policyName}</strong>
								- gets security policy</a>
						</h3>
						<div>
							<div class="ui-state-highlight ui-corner-all"
								style="padding: 8px; margin-bottom: 6px">
								<strong>Note!</strong> This method is public, no ticket
								required.
							</div>

							<ul>
								<li>(required) <strong>policyName</strong> - security
									policy name (namespaces are supported, e.g.
									my/namespace/policy_name)
								</li>
							</ul>

							<p>The structure of the returned JSON includes:</p>
							<ul>
								<li><strong>name</strong> - Policy name</li>
								<li><strong>payload</strong> - Policy content</li>
								<li><strong>owners</strong> - List of policy owners</li>
							</ul>

							<p>The operation returns the 200 status code on success. The
								404 status code is returned when security policy with given name
								does not exist.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/security_policies/{policyName}/payload</strong>
								- gets security policy content</a>
						</h3>
						<div>
							<div class="ui-state-highlight ui-corner-all"
								style="padding: 8px; margin-bottom: 6px">
								<strong>Note!</strong> This method is public, no ticket
								required.
							</div>

							<ul>
								<li>(required) <strong>policyName</strong> - security
									policy name (namespaces are supported, e.g.
									my/namespace/policy_name)
								</li>
							</ul>

							<p>The operation returns the 200 status code and the security
								policy content on success. The 404 status code is returned when
								security policy with given name does not exist.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">POST</strong> <strong>/security_policies</strong>
								- creates new security policy</a>
						</h3>
						<div>
							<p>The structure of the request JSON includes:</p>
							<ul>
								<li>(required) <strong>name</strong> - security policy name
									(namespaces are supported, e.g. my/namespace/policy_name)
								</li>
								<li>(required) <strong>payload</strong> - security policy
									content
								</li>
								<li><strong>owners</strong> - List of security policy
									owners. If this field is empty than owner is set to the user
									who invokes this required.</li>
							</ul>

							<p>The operation returns the 201 status code on success. The
								409 status code is returned when user tries to add new policy
								with non unique name.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">PUT</strong> <strong>/security_policies/{policyName}</strong>
								- update security policy</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>policyName</strong> - security
									policy name (namespaces are supported, e.g.
									my/namespace/policy_name)
								</li>
							</ul>

							<p>The structure of the request JSON includes:</p>
							<ul>
								<li><strong>payload</strong> - security policy content. If
									payload is empty than it will not be updated.</li>
								<li><strong>owners</strong> - List of security policy
									owners. If this field is empty than list of owners whill not be
									updated.</li>
							</ul>

							<p>The operation returns the 200 status code on success. The
								404 status code is returned when policy is not found, 403 status
								code is returned when user tries to update not owned policy.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">DELETE</strong> <strong>/security_policies/{policyName}</strong>
								- removes security policy</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>policyName</strong> - security
									policy name (namespaces are supported, e.g.
									my/namespace/policy_name)
								</li>
							</ul>

							<p>The operation returns the 200 status code on success. The
								404 status code is returned when security policy with given name
								does not exist, 403 status code is returned when user tries to
								update not owned policy.</p>
						</div>
					</div>


					<div id="securityproxy-accordion">
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/security_proxies</strong>
								- lists stored security proxy configurations names</a>
						</h3>
						<div>
							<div class="ui-state-highlight ui-corner-all"
								style="padding: 8px; margin-bottom: 6px">
								<strong>Note!</strong> This method is public, no ticket
								required.
							</div>

							<p>The operation returns the 200 status code and the security
								proxy configurations names on success.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/security_proxies/{proxyName}</strong>
								- gets security proxy configuration</a>
						</h3>
						<div>
							<div class="ui-state-highlight ui-corner-all"
								style="padding: 8px; margin-bottom: 6px">
								<strong>Note!</strong> This method is public, no ticket
								required.
							</div>

							<ul>
								<li>(required) <strong>proxyName</strong> - security proxy
									configuration name (namespaces are supported, e.g.
									my/namespace/proxy_name)
								</li>
							</ul>

							<p>The structure of the returned JSON includes:</p>
							<ul>
								<li><strong>name</strong> - Security proxy configuration
									name.</li>
								<li><strong>payload</strong> - Security proxy configuration
									content.</li>
								<li><strong>owners</strong> - List of security proxy
									configuration owners.</li>
							</ul>

							<p>The operation returns the 200 status code on success. The
								404 status code is returned when security proxy configuration
								with given name does not exist.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/security_proxies/{proxyName}/payload</strong>
								- gets security proxy configuration content</a>
						</h3>
						<div>
							<div class="ui-state-highlight ui-corner-all"
								style="padding: 8px; margin-bottom: 6px">
								<strong>Note!</strong> This method is public, no ticket
								required.
							</div>

							<ul>
								<li>(required) <strong>proxyName</strong> - security proxy
									configuration name (namespaces are supported, e.g.
									my/namespace/proxy_name)
								</li>
							</ul>

							<p>The operation returns the 200 status code and the security
								proxy configuration content on success. The 404 status code is
								returned when security proxy configuration with given name does
								not exist.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">POST</strong> <strong>/security_proxies</strong>
								- creates new security proxy configuration</a>
						</h3>
						<div>
							<p>The structure of the request JSON includes:</p>
							<ul>
								<li>(required) <strong>name</strong> - security proxy
									configuration name (namespaces are supported, e.g.
									my/namespace/proxy_name)
								</li>
								<li>(required) <strong>payload</strong> - security proxy
									configuration content.
								</li>
								<li><strong>owners</strong> - List of security proxy
									configuration owners. If this field is empty than owner is set
									to the user who invokes this required.</li>
							</ul>

							<p>The operation returns the 201 status code on success. The
								409 status code is returned when user tries to add new security
								proxy configuration with non unique name.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">PUT</strong> <strong>/security_proxies/{proxyName}</strong>
								- update security proxy configuration</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>proxyName</strong> - security proxy
									configuration name (namespaces are supported, e.g.
									my/namespace/proxy_name)
								</li>
							</ul>

							<p>The structure of the request JSON includes:</p>
							<ul>
								<li><strong>payload</strong> - security proxy configuration
									content. If payload is empty than it will not be updated.</li>
								<li><strong>owners</strong> - List of security proxy
									configuration owners. If this field is empty than list of
									owners whill not be updated.</li>
							</ul>

							<p>The operation returns the 200 status code on success. The
								404 status code is returned when security proxy configuration is
								not found, 403 status code is returned when user tries to update
								not owned security proxy configuration.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">DELETE</strong> <strong>/security_proxies/{proxyName}</strong>
								- removes security proxy configuration</a>
						</h3>
						<div>
							<ul>
								<li>(required) <strong>proxyName</strong> - security proxy
									configuration name (namespaces are supported, e.g.
									my/namespace/proxy_name)
								</li>
							</ul>

							<p>The operation returns the 200 status code on success. The
								404 status code is returned when security proxy configuration
								with given name does not exist, 403 status code is returned when
								user tries to update not owned security proxy configuration.</p>
						</div>
					</div>


					<div id="key-accordion">
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/keys</strong>
								- lists user public keys</a>
						</h3>
						<div>
							<p>The operation returns the 200 status code and the array of
								basic information about user keys. The structure of the returned
								JSON includes table of following objects:</p>
							<ul>
								<li>(required) <strong>keyName</strong> - key name
								</li>
								<li>(required) <strong>fingerprint</strong> - key
									fingerprint
								</li>
								<li>(required) <strong>id</strong> - key id
								</li>
							</ul>
						</div>
						<h3>
							<a href="#"><strong class="method">POST</strong> <strong>/keys</strong>
								- add new user public key</a>
						</h3>
						<div>
							<p>The structure of the request form parameters includes:</p>
							<ul>
								<li>(required, unique) <strong>keyName</strong> - new key
									name
								</li>
								<li>(required) <strong>publicKey</strong> - public key
									payload
								</li>
							</ul>

							<p>The operation returns the 200 status code and the new
								added key id on success. If key with given name is already
								registered than 409 (conflict) is returned, when keys is not
								correct 400 (bad request is returned)</p>
						</div>
						<h3>
							<a href="#"><strong class="method">GET</strong> <strong>/keys/{keyId}</strong>
								- get public key content</a>
						</h3>
						<div>
							<ul>
								<li>(required) request parameter <strong>keyId</strong> -
									key id
								</li>
							</ul>
							<p>The operation returns the 200 status code and the public
								key payload on success. When keys is not found for the user than
								404 is returned.</p>
						</div>
						<h3>
							<a href="#"><strong class="method">DELETE</strong> <strong>/keys/{keyId}</strong>
								- delete user public key</a>
						</h3>
						<div>
							<ul>
								<li>(required) request parameter <strong>keyId</strong> -
									key to be deleted id
								</li>
							</ul>
							<p>The operation returns the 200 status code on success. When
								keys is not found for the user than 404 is returned.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="ui-state-error ui-corner-all deprecation-warning">
				<a href="/cloudfacade/old"><strong>Old API documentation</strong></a> Old API which will be removed in the next Cloud Facade (1.7.0) release!
			</div>
		</div>
		<div class="push"></div>
	</div>
	<div class="footer">
		<p>
			Copyright &copy; 2013 DICE Team &mdash; <a
				href="http://dice.cyfronet.pl"
				title="DIstributed Computing Environments (DICE) Team">DIstributed
				Computing Environments (DICE) Team</a>. Version: ${pom.version}
		</p>
	</div>
</body>
</html>
